{"ast":null,"code":"var _jsxFileName = \"/Users/deepshikha/Documents/vjepa2-robot-control/frontend/src/components/TrajectoryPredictor.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { Box, Button, Card, CardContent, Container, Grid, LinearProgress, Slider, TextField, Typography, Paper, Fade, Chip, Divider, IconButton, Tooltip, alpha } from '@mui/material';\nimport PlayArrowIcon from '@mui/icons-material/PlayArrow';\nimport PauseIcon from '@mui/icons-material/Pause';\nimport UploadFileIcon from '@mui/icons-material/UploadFile';\nimport TimelineIcon from '@mui/icons-material/Timeline';\nimport FastForwardIcon from '@mui/icons-material/FastForward';\nimport FastRewindIcon from '@mui/icons-material/FastRewind';\nimport TuneIcon from '@mui/icons-material/Tune';\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\nimport CloudUploadIcon from '@mui/icons-material/CloudUpload';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TrajectoryPredictor = () => {\n  _s();\n  const [videoId, setVideoId] = useState(null);\n  const [textQuery, setTextQuery] = useState('');\n  const [planningHorizon, setPlanningHorizon] = useState(10);\n  const [confidenceThreshold, setConfidenceThreshold] = useState(0.7);\n  const [isLoading, setIsLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [videoInfo, setVideoInfo] = useState(null);\n  const [frames, setFrames] = useState([]);\n  const [currentFrameIndex, setCurrentFrameIndex] = useState(0);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [predictionResult, setPredictionResult] = useState(null);\n  const [logs, setLogs] = useState([]);\n  const canvasRef = useRef(null);\n  const playIntervalRef = useRef(null);\n\n  // Initialize on mount\n  useEffect(() => {\n    checkStatus();\n    return () => {\n      if (playIntervalRef.current) {\n        clearInterval(playIntervalRef.current);\n      }\n    };\n  }, []);\n\n  // Draw frame when current frame index changes\n  useEffect(() => {\n    if (frames.length > 0 && currentFrameIndex < frames.length) {\n      drawFrame(currentFrameIndex);\n    }\n  }, [currentFrameIndex, frames]);\n\n  // Handle play/pause\n  useEffect(() => {\n    if (isPlaying) {\n      playIntervalRef.current = setInterval(() => {\n        setCurrentFrameIndex(prevIndex => {\n          const nextIndex = (prevIndex + 1) % frames.length;\n          if (nextIndex === 0) {\n            setIsPlaying(false);\n          }\n          return nextIndex;\n        });\n      }, 200);\n    } else if (playIntervalRef.current) {\n      clearInterval(playIntervalRef.current);\n    }\n    return () => {\n      if (playIntervalRef.current) {\n        clearInterval(playIntervalRef.current);\n      }\n    };\n  }, [isPlaying, frames.length]);\n  const checkStatus = async () => {\n    try {\n      const response = await axios.get('/api/status');\n      addLog(\"V-JEPA2 status: \".concat(response.data.vjepa_initialized ? 'Initialized' : 'Not Initialized'));\n    } catch (error) {\n      addLog('Error connecting to server');\n    }\n  };\n  const addLog = message => {\n    const timestamp = new Date().toLocaleTimeString();\n    setLogs(prevLogs => [...prevLogs, \"[\".concat(timestamp, \"] \").concat(message)]);\n  };\n  const handleUpload = async event => {\n    event.preventDefault();\n    const fileInput = document.getElementById('videoFile');\n    const file = fileInput.files[0];\n    if (!file) {\n      addLog('No file selected');\n      return;\n    }\n    setIsLoading(true);\n    setMessage('Uploading video...');\n    addLog(\"Uploading video: \".concat(file.name));\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('max_frames', 30);\n    try {\n      const response = await axios.post('/api/upload_video', formData);\n      setVideoId(response.data.video_id);\n      setVideoInfo(response.data);\n      setMessage('Video uploaded successfully!');\n      addLog(\"Upload successful! Video ID: \".concat(response.data.video_id));\n      addLog(\"Frames: \".concat(response.data.num_frames, \", Resolution: \").concat(response.data.width, \"x\").concat(response.data.height));\n    } catch (error) {\n      var _error$response, _error$response$data, _error$response2, _error$response2$data;\n      setMessage(\"Error: \".concat(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || error.message));\n      addLog(\"Error: \".concat(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.detail) || error.message));\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handlePredict = async event => {\n    event.preventDefault();\n    if (!videoId) {\n      addLog('Please upload a video first');\n      return;\n    }\n    if (!textQuery) {\n      addLog('Please enter an object description');\n      return;\n    }\n    setIsLoading(true);\n    setMessage('Predicting trajectory...');\n    addLog(\"Predicting trajectory for \\\"\".concat(textQuery, \"\\\"\"));\n    try {\n      const response = await axios.post('/api/predict_trajectory', {\n        text_query: textQuery,\n        video_id: videoId,\n        planning_horizon: planningHorizon,\n        confidence_threshold: confidenceThreshold\n      });\n      if (response.data.success) {\n        setPredictionResult(response.data);\n\n        // Convert base64 images to Image objects for canvas drawing\n        const loadedFrames = await Promise.all(response.data.visualization_frames.map(base64 => {\n          return new Promise(resolve => {\n            const img = new Image();\n            img.onload = () => resolve(img);\n            img.src = \"data:image/jpeg;base64,\".concat(base64);\n          });\n        }));\n        setFrames(loadedFrames);\n        setCurrentFrameIndex(0);\n        addLog(\"Prediction complete: \".concat(response.data.observed_trajectory.length, \" observed frames, \").concat(response.data.predicted_trajectory.length, \" predicted frames\"));\n        setMessage('Trajectory prediction complete');\n\n        // Initialize canvas size\n        if (loadedFrames.length > 0) {\n          const canvas = canvasRef.current;\n          canvas.width = loadedFrames[0].width;\n          canvas.height = loadedFrames[0].height;\n        }\n      } else {\n        setMessage(\"Error: \".concat(response.data.message));\n        addLog(\"Error: \".concat(response.data.message));\n      }\n    } catch (error) {\n      var _error$response3, _error$response3$data, _error$response4, _error$response4$data;\n      setMessage(\"Error: \".concat(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.detail) || error.message));\n      addLog(\"Error: \".concat(((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.detail) || error.message));\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const drawFrame = index => {\n    if (frames.length === 0 || index >= frames.length) return;\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n\n    // Clear canvas\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    // Draw the frame\n    ctx.drawImage(frames[index], 0, 0);\n  };\n  const togglePlayPause = () => {\n    setIsPlaying(!isPlaying);\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    sx: {\n      mt: 4,\n      mb: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      component: \"div\",\n      sx: {\n        textAlign: 'center',\n        mb: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(TimelineIcon, {\n        sx: {\n          mr: 1,\n          verticalAlign: 'middle'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), \"V-JEPA2 Text-Based Trajectory Prediction\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              children: [/*#__PURE__*/_jsxDEV(UploadFileIcon, {\n                sx: {\n                  mr: 1,\n                  verticalAlign: 'middle'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 17\n              }, this), \"Upload Video\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              component: \"form\",\n              onSubmit: handleUpload,\n              sx: {\n                mt: 2\n              },\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                spacing: 2,\n                children: [/*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  md: 8,\n                  children: /*#__PURE__*/_jsxDEV(TextField, {\n                    id: \"videoFile\",\n                    type: \"file\",\n                    inputProps: {\n                      accept: 'video/*'\n                    },\n                    fullWidth: true,\n                    variant: \"outlined\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  md: 4,\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    type: \"submit\",\n                    variant: \"contained\",\n                    color: \"primary\",\n                    fullWidth: true,\n                    disabled: isLoading,\n                    children: \"Upload Video\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 246,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              sx: {\n                mt: 4\n              },\n              children: [/*#__PURE__*/_jsxDEV(TimelineIcon, {\n                sx: {\n                  mr: 1,\n                  verticalAlign: 'middle'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 17\n              }, this), \"Predict Trajectory\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              component: \"form\",\n              onSubmit: handlePredict,\n              sx: {\n                mt: 2\n              },\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                spacing: 2,\n                children: [/*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  children: /*#__PURE__*/_jsxDEV(TextField, {\n                    label: \"Object Description\",\n                    placeholder: \"e.g., 'the red car on the left'\",\n                    value: textQuery,\n                    onChange: e => setTextQuery(e.target.value),\n                    fullWidth: true,\n                    variant: \"outlined\",\n                    disabled: isLoading || !videoId\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  md: 6,\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    gutterBottom: true,\n                    children: [\"Planning Horizon: \", planningHorizon]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Slider, {\n                    value: planningHorizon,\n                    onChange: (e, value) => setPlanningHorizon(value),\n                    min: 5,\n                    max: 20,\n                    step: 1,\n                    marks: [{\n                      value: 5,\n                      label: '5'\n                    }, {\n                      value: 10,\n                      label: '10'\n                    }, {\n                      value: 15,\n                      label: '15'\n                    }, {\n                      value: 20,\n                      label: '20'\n                    }],\n                    disabled: isLoading\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 280,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  md: 6,\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    gutterBottom: true,\n                    children: [\"Confidence Threshold: \", confidenceThreshold.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 296,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Slider, {\n                    value: confidenceThreshold,\n                    onChange: (e, value) => setConfidenceThreshold(value),\n                    min: 0.3,\n                    max: 0.9,\n                    step: 0.05,\n                    marks: [{\n                      value: 0.3,\n                      label: '0.3'\n                    }, {\n                      value: 0.5,\n                      label: '0.5'\n                    }, {\n                      value: 0.7,\n                      label: '0.7'\n                    }, {\n                      value: 0.9,\n                      label: '0.9'\n                    }],\n                    disabled: isLoading\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 299,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 12,\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    type: \"submit\",\n                    variant: \"contained\",\n                    color: \"secondary\",\n                    fullWidth: true,\n                    disabled: isLoading || !videoId || !textQuery,\n                    children: \"Predict Trajectory\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this), isLoading && /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                width: '100%',\n                mt: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(LinearProgress, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                sx: {\n                  mt: 1\n                },\n                children: message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this), message && !isLoading && /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              sx: {\n                mt: 2,\n                color: message.includes('Error') ? 'error.main' : 'success.main'\n              },\n              children: message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), frames.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 8,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                gutterBottom: true,\n                children: \"Trajectory Visualization\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  position: 'relative',\n                  mb: 2\n                },\n                children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n                  ref: canvasRef,\n                  style: {\n                    border: '1px solid #ddd',\n                    backgroundColor: '#f8f9fa',\n                    maxWidth: '100%'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  mt: 2\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  gutterBottom: true,\n                  children: [\"Frame: \", currentFrameIndex + 1, \" / \", frames.length]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Slider, {\n                  value: currentFrameIndex,\n                  onChange: (e, value) => setCurrentFrameIndex(value),\n                  min: 0,\n                  max: frames.length - 1,\n                  step: 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  mt: 2\n                },\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outlined\",\n                  startIcon: isPlaying ? /*#__PURE__*/_jsxDEV(PauseIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 377,\n                    columnNumber: 46\n                  }, this) : /*#__PURE__*/_jsxDEV(PlayArrowIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 377,\n                    columnNumber: 62\n                  }, this),\n                  onClick: togglePlayPause,\n                  children: isPlaying ? 'Pause' : 'Play'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    sx: {\n                      display: 'inline-block',\n                      bgcolor: 'success.main',\n                      color: 'white',\n                      px: 1,\n                      py: 0.5,\n                      borderRadius: 1,\n                      mr: 1\n                    },\n                    children: \"Observed\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    sx: {\n                      display: 'inline-block',\n                      bgcolor: 'primary.main',\n                      color: 'white',\n                      px: 1,\n                      py: 0.5,\n                      borderRadius: 1\n                    },\n                    children: \"Predicted\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 386,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                gutterBottom: true,\n                children: \"Trajectory Data\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 19\n              }, this), predictionResult && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Object:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 403,\n                    columnNumber: 35\n                  }, this), \" \", predictionResult.text_query]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 403,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Observed Frames:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 404,\n                    columnNumber: 35\n                  }, this), \" \", predictionResult.observed_trajectory.length]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Predicted Frames:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 405,\n                    columnNumber: 35\n                  }, this), \" \", predictionResult.predicted_trajectory.length]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                sx: {\n                  mt: 3,\n                  mb: 1\n                },\n                children: \"Logs\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Paper, {\n                sx: {\n                  height: 200,\n                  p: 1,\n                  overflow: 'auto',\n                  bgcolor: '#f5f5f5',\n                  fontFamily: 'monospace'\n                },\n                children: logs.map((log, index) => /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  sx: {\n                    fontSize: '0.8rem'\n                  },\n                  children: log\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 220,\n    columnNumber: 5\n  }, this);\n};\n_s(TrajectoryPredictor, \"6ERExgooNDRpAdMigiz7vJsuYFA=\");\n_c = TrajectoryPredictor;\nexport default TrajectoryPredictor;\nvar _c;\n$RefreshReg$(_c, \"TrajectoryPredictor\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","Box","Button","Card","CardContent","Container","Grid","LinearProgress","Slider","TextField","Typography","Paper","Fade","Chip","Divider","IconButton","Tooltip","alpha","PlayArrowIcon","PauseIcon","UploadFileIcon","TimelineIcon","FastForwardIcon","FastRewindIcon","TuneIcon","InfoOutlinedIcon","CloudUploadIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","TrajectoryPredictor","_s","videoId","setVideoId","textQuery","setTextQuery","planningHorizon","setPlanningHorizon","confidenceThreshold","setConfidenceThreshold","isLoading","setIsLoading","message","setMessage","videoInfo","setVideoInfo","frames","setFrames","currentFrameIndex","setCurrentFrameIndex","isPlaying","setIsPlaying","predictionResult","setPredictionResult","logs","setLogs","canvasRef","playIntervalRef","checkStatus","current","clearInterval","length","drawFrame","setInterval","prevIndex","nextIndex","response","get","addLog","concat","data","vjepa_initialized","error","timestamp","Date","toLocaleTimeString","prevLogs","handleUpload","event","preventDefault","fileInput","document","getElementById","file","files","name","formData","FormData","append","post","video_id","num_frames","width","height","_error$response","_error$response$data","_error$response2","_error$response2$data","detail","handlePredict","text_query","planning_horizon","confidence_threshold","success","loadedFrames","Promise","all","visualization_frames","map","base64","resolve","img","Image","onload","src","observed_trajectory","predicted_trajectory","canvas","_error$response3","_error$response3$data","_error$response4","_error$response4$data","index","ctx","getContext","clearRect","drawImage","togglePlayPause","maxWidth","sx","mt","mb","children","variant","gutterBottom","component","textAlign","mr","verticalAlign","fileName","_jsxFileName","lineNumber","columnNumber","container","spacing","item","xs","onSubmit","md","id","type","inputProps","accept","fullWidth","color","disabled","label","placeholder","value","onChange","e","target","min","max","step","marks","toFixed","includes","position","ref","style","border","backgroundColor","display","justifyContent","startIcon","onClick","bgcolor","px","py","borderRadius","p","overflow","fontFamily","log","fontSize","_c","$RefreshReg$"],"sources":["/Users/deepshikha/Documents/vjepa2-robot-control/frontend/src/components/TrajectoryPredictor.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport {\n  Box,\n  Button,\n  Card,\n  CardContent,\n  Container,\n  Grid,\n  LinearProgress,\n  Slider,\n  TextField,\n  Typography,\n  Paper,\n  Fade,\n  Chip,\n  Divider,\n  IconButton,\n  Tooltip,\n  alpha,\n} from '@mui/material';\nimport PlayArrowIcon from '@mui/icons-material/PlayArrow';\nimport PauseIcon from '@mui/icons-material/Pause';\nimport UploadFileIcon from '@mui/icons-material/UploadFile';\nimport TimelineIcon from '@mui/icons-material/Timeline';\nimport FastForwardIcon from '@mui/icons-material/FastForward';\nimport FastRewindIcon from '@mui/icons-material/FastRewind';\nimport TuneIcon from '@mui/icons-material/Tune';\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\nimport CloudUploadIcon from '@mui/icons-material/CloudUpload';\n\nconst TrajectoryPredictor = () => {\n  const [videoId, setVideoId] = useState(null);\n  const [textQuery, setTextQuery] = useState('');\n  const [planningHorizon, setPlanningHorizon] = useState(10);\n  const [confidenceThreshold, setConfidenceThreshold] = useState(0.7);\n  const [isLoading, setIsLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [videoInfo, setVideoInfo] = useState(null);\n  const [frames, setFrames] = useState([]);\n  const [currentFrameIndex, setCurrentFrameIndex] = useState(0);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [predictionResult, setPredictionResult] = useState(null);\n  const [logs, setLogs] = useState([]);\n  \n  const canvasRef = useRef(null);\n  const playIntervalRef = useRef(null);\n  \n  // Initialize on mount\n  useEffect(() => {\n    checkStatus();\n    \n    return () => {\n      if (playIntervalRef.current) {\n        clearInterval(playIntervalRef.current);\n      }\n    };\n  }, []);\n  \n  // Draw frame when current frame index changes\n  useEffect(() => {\n    if (frames.length > 0 && currentFrameIndex < frames.length) {\n      drawFrame(currentFrameIndex);\n    }\n  }, [currentFrameIndex, frames]);\n  \n  // Handle play/pause\n  useEffect(() => {\n    if (isPlaying) {\n      playIntervalRef.current = setInterval(() => {\n        setCurrentFrameIndex(prevIndex => {\n          const nextIndex = (prevIndex + 1) % frames.length;\n          if (nextIndex === 0) {\n            setIsPlaying(false);\n          }\n          return nextIndex;\n        });\n      }, 200);\n    } else if (playIntervalRef.current) {\n      clearInterval(playIntervalRef.current);\n    }\n    \n    return () => {\n      if (playIntervalRef.current) {\n        clearInterval(playIntervalRef.current);\n      }\n    };\n  }, [isPlaying, frames.length]);\n  \n  const checkStatus = async () => {\n    try {\n      const response = await axios.get('/api/status');\n      addLog(`V-JEPA2 status: ${response.data.vjepa_initialized ? 'Initialized' : 'Not Initialized'}`);\n    } catch (error) {\n      addLog('Error connecting to server');\n    }\n  };\n  \n  const addLog = (message) => {\n    const timestamp = new Date().toLocaleTimeString();\n    setLogs(prevLogs => [...prevLogs, `[${timestamp}] ${message}`]);\n  };\n  \n  const handleUpload = async (event) => {\n    event.preventDefault();\n    const fileInput = document.getElementById('videoFile');\n    const file = fileInput.files[0];\n    \n    if (!file) {\n      addLog('No file selected');\n      return;\n    }\n    \n    setIsLoading(true);\n    setMessage('Uploading video...');\n    addLog(`Uploading video: ${file.name}`);\n    \n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('max_frames', 30);\n    \n    try {\n      const response = await axios.post('/api/upload_video', formData);\n      setVideoId(response.data.video_id);\n      setVideoInfo(response.data);\n      setMessage('Video uploaded successfully!');\n      addLog(`Upload successful! Video ID: ${response.data.video_id}`);\n      addLog(`Frames: ${response.data.num_frames}, Resolution: ${response.data.width}x${response.data.height}`);\n    } catch (error) {\n      setMessage(`Error: ${error.response?.data?.detail || error.message}`);\n      addLog(`Error: ${error.response?.data?.detail || error.message}`);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  \n  const handlePredict = async (event) => {\n    event.preventDefault();\n    \n    if (!videoId) {\n      addLog('Please upload a video first');\n      return;\n    }\n    \n    if (!textQuery) {\n      addLog('Please enter an object description');\n      return;\n    }\n    \n    setIsLoading(true);\n    setMessage('Predicting trajectory...');\n    addLog(`Predicting trajectory for \"${textQuery}\"`);\n    \n    try {\n      const response = await axios.post('/api/predict_trajectory', {\n        text_query: textQuery,\n        video_id: videoId,\n        planning_horizon: planningHorizon,\n        confidence_threshold: confidenceThreshold\n      });\n      \n      if (response.data.success) {\n        setPredictionResult(response.data);\n        \n        // Convert base64 images to Image objects for canvas drawing\n        const loadedFrames = await Promise.all(\n          response.data.visualization_frames.map(base64 => {\n            return new Promise((resolve) => {\n              const img = new Image();\n              img.onload = () => resolve(img);\n              img.src = `data:image/jpeg;base64,${base64}`;\n            });\n          })\n        );\n        \n        setFrames(loadedFrames);\n        setCurrentFrameIndex(0);\n        \n        addLog(`Prediction complete: ${response.data.observed_trajectory.length} observed frames, ${response.data.predicted_trajectory.length} predicted frames`);\n        setMessage('Trajectory prediction complete');\n        \n        // Initialize canvas size\n        if (loadedFrames.length > 0) {\n          const canvas = canvasRef.current;\n          canvas.width = loadedFrames[0].width;\n          canvas.height = loadedFrames[0].height;\n        }\n      } else {\n        setMessage(`Error: ${response.data.message}`);\n        addLog(`Error: ${response.data.message}`);\n      }\n    } catch (error) {\n      setMessage(`Error: ${error.response?.data?.detail || error.message}`);\n      addLog(`Error: ${error.response?.data?.detail || error.message}`);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  \n  const drawFrame = (index) => {\n    if (frames.length === 0 || index >= frames.length) return;\n    \n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    \n    const ctx = canvas.getContext('2d');\n    \n    // Clear canvas\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    \n    // Draw the frame\n    ctx.drawImage(frames[index], 0, 0);\n  };\n  \n  const togglePlayPause = () => {\n    setIsPlaying(!isPlaying);\n  };\n  \n  return (\n    <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\n      <Typography variant=\"h4\" gutterBottom component=\"div\" sx={{ textAlign: 'center', mb: 4 }}>\n        <TimelineIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\n        V-JEPA2 Text-Based Trajectory Prediction\n      </Typography>\n      \n      <Grid container spacing={3}>\n        <Grid item xs={12}>\n          <Card>\n            <CardContent>\n              <Typography variant=\"h6\" gutterBottom>\n                <UploadFileIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\n                Upload Video\n              </Typography>\n              <Box component=\"form\" onSubmit={handleUpload} sx={{ mt: 2 }}>\n                <Grid container spacing={2}>\n                  <Grid item xs={12} md={8}>\n                    <TextField\n                      id=\"videoFile\"\n                      type=\"file\"\n                      inputProps={{ accept: 'video/*' }}\n                      fullWidth\n                      variant=\"outlined\"\n                    />\n                  </Grid>\n                  <Grid item xs={12} md={4}>\n                    <Button\n                      type=\"submit\"\n                      variant=\"contained\"\n                      color=\"primary\"\n                      fullWidth\n                      disabled={isLoading}\n                    >\n                      Upload Video\n                    </Button>\n                  </Grid>\n                </Grid>\n              </Box>\n              \n              <Typography variant=\"h6\" gutterBottom sx={{ mt: 4 }}>\n                <TimelineIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\n                Predict Trajectory\n              </Typography>\n              <Box component=\"form\" onSubmit={handlePredict} sx={{ mt: 2 }}>\n                <Grid container spacing={2}>\n                  <Grid item xs={12}>\n                    <TextField\n                      label=\"Object Description\"\n                      placeholder=\"e.g., 'the red car on the left'\"\n                      value={textQuery}\n                      onChange={(e) => setTextQuery(e.target.value)}\n                      fullWidth\n                      variant=\"outlined\"\n                      disabled={isLoading || !videoId}\n                    />\n                  </Grid>\n                  <Grid item xs={12} md={6}>\n                    <Typography gutterBottom>\n                      Planning Horizon: {planningHorizon}\n                    </Typography>\n                    <Slider\n                      value={planningHorizon}\n                      onChange={(e, value) => setPlanningHorizon(value)}\n                      min={5}\n                      max={20}\n                      step={1}\n                      marks={[\n                        { value: 5, label: '5' },\n                        { value: 10, label: '10' },\n                        { value: 15, label: '15' },\n                        { value: 20, label: '20' },\n                      ]}\n                      disabled={isLoading}\n                    />\n                  </Grid>\n                  <Grid item xs={12} md={6}>\n                    <Typography gutterBottom>\n                      Confidence Threshold: {confidenceThreshold.toFixed(2)}\n                    </Typography>\n                    <Slider\n                      value={confidenceThreshold}\n                      onChange={(e, value) => setConfidenceThreshold(value)}\n                      min={0.3}\n                      max={0.9}\n                      step={0.05}\n                      marks={[\n                        { value: 0.3, label: '0.3' },\n                        { value: 0.5, label: '0.5' },\n                        { value: 0.7, label: '0.7' },\n                        { value: 0.9, label: '0.9' },\n                      ]}\n                      disabled={isLoading}\n                    />\n                  </Grid>\n                  <Grid item xs={12}>\n                    <Button\n                      type=\"submit\"\n                      variant=\"contained\"\n                      color=\"secondary\"\n                      fullWidth\n                      disabled={isLoading || !videoId || !textQuery}\n                    >\n                      Predict Trajectory\n                    </Button>\n                  </Grid>\n                </Grid>\n              </Box>\n              \n              {isLoading && (\n                <Box sx={{ width: '100%', mt: 2 }}>\n                  <LinearProgress />\n                  <Typography variant=\"body2\" sx={{ mt: 1 }}>{message}</Typography>\n                </Box>\n              )}\n              \n              {message && !isLoading && (\n                <Typography variant=\"body2\" sx={{ mt: 2, color: message.includes('Error') ? 'error.main' : 'success.main' }}>\n                  {message}\n                </Typography>\n              )}\n            </CardContent>\n          </Card>\n        </Grid>\n        \n        {frames.length > 0 && (\n          <>\n            <Grid item xs={12} md={8}>\n              <Card>\n                <CardContent>\n                  <Typography variant=\"h6\" gutterBottom>\n                    Trajectory Visualization\n                  </Typography>\n                  <Box sx={{ position: 'relative', mb: 2 }}>\n                    <canvas \n                      ref={canvasRef} \n                      style={{ \n                        border: '1px solid #ddd', \n                        backgroundColor: '#f8f9fa',\n                        maxWidth: '100%'\n                      }} \n                    />\n                  </Box>\n                  <Box sx={{ mt: 2 }}>\n                    <Typography gutterBottom>\n                      Frame: {currentFrameIndex + 1} / {frames.length}\n                    </Typography>\n                    <Slider\n                      value={currentFrameIndex}\n                      onChange={(e, value) => setCurrentFrameIndex(value)}\n                      min={0}\n                      max={frames.length - 1}\n                      step={1}\n                    />\n                  </Box>\n                  <Box sx={{ display: 'flex', justifyContent: 'space-between', mt: 2 }}>\n                    <Button\n                      variant=\"outlined\"\n                      startIcon={isPlaying ? <PauseIcon /> : <PlayArrowIcon />}\n                      onClick={togglePlayPause}\n                    >\n                      {isPlaying ? 'Pause' : 'Play'}\n                    </Button>\n                    <Box>\n                      <Typography variant=\"body2\" sx={{ display: 'inline-block', bgcolor: 'success.main', color: 'white', px: 1, py: 0.5, borderRadius: 1, mr: 1 }}>\n                        Observed\n                      </Typography>\n                      <Typography variant=\"body2\" sx={{ display: 'inline-block', bgcolor: 'primary.main', color: 'white', px: 1, py: 0.5, borderRadius: 1 }}>\n                        Predicted\n                      </Typography>\n                    </Box>\n                  </Box>\n                </CardContent>\n              </Card>\n            </Grid>\n            \n            <Grid item xs={12} md={4}>\n              <Card>\n                <CardContent>\n                  <Typography variant=\"h6\" gutterBottom>\n                    Trajectory Data\n                  </Typography>\n                  {predictionResult && (\n                    <>\n                      <Typography><strong>Object:</strong> {predictionResult.text_query}</Typography>\n                      <Typography><strong>Observed Frames:</strong> {predictionResult.observed_trajectory.length}</Typography>\n                      <Typography><strong>Predicted Frames:</strong> {predictionResult.predicted_trajectory.length}</Typography>\n                    </>\n                  )}\n                  <Typography variant=\"h6\" sx={{ mt: 3, mb: 1 }}>Logs</Typography>\n                  <Paper sx={{ height: 200, p: 1, overflow: 'auto', bgcolor: '#f5f5f5', fontFamily: 'monospace' }}>\n                    {logs.map((log, index) => (\n                      <Typography key={index} variant=\"body2\" sx={{ fontSize: '0.8rem' }}>{log}</Typography>\n                    ))}\n                  </Paper>\n                </CardContent>\n              </Card>\n            </Grid>\n          </>\n        )}\n      </Grid>\n    </Container>\n  );\n};\n\nexport default TrajectoryPredictor;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}